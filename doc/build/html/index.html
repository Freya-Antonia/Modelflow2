<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to ModelFlow’s documentation! &mdash; ModelFlow  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> ModelFlow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to ModelFlow’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#modules">Modules</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-modelclass">Modelclass</a></li>
<li><a class="reference internal" href="#module-modelpattern">Modelpattern</a></li>
<li><a class="reference internal" href="#module-modelmanipulation">Modelmanipulation</a></li>
<li><a class="reference internal" href="#module-modelnewton">Modelnewton</a></li>
<li><a class="reference internal" href="#module-modelvis">Modelvis</a></li>
<li><a class="reference internal" href="#module-modeljupyter">modeljupyter</a></li>
<li><a class="reference internal" href="#module-modelnormalize">modelnormalize</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ModelFlow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>Welcome to ModelFlow’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-modelflow-s-documentation">
<h1>Welcome to ModelFlow’s documentation!<a class="headerlink" href="#welcome-to-modelflow-s-documentation" title="Permalink to this headline"></a></h1>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>Dette er en prøve
og en ande kllgg</p>
</section>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">https://docs.conda.io/en/latest/miniconda.html</a> to download the latest version 3.9</p>
<blockquote>
<div><ul class="simple">
<li><p>open the file to start instalation</p></li>
<li><p>asked to install for: select just me</p></li>
<li><p>in the start menu: select anaconda prompt</p></li>
</ul>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span>  <span class="n">install</span>  <span class="o">-</span><span class="n">c</span> <span class="n">ibh</span> <span class="o">-</span><span class="n">c</span>  <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">modelflow</span> <span class="n">jupyter</span> <span class="o">-</span><span class="n">y</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">dash_interactive_graphviz</span>
<span class="n">jupyter</span> <span class="n">contrib</span> <span class="n">nbextension</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">hide_input_all</span><span class="o">/</span><span class="n">main</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">splitcell</span><span class="o">/</span><span class="n">splitcell</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">toc2</span><span class="o">/</span><span class="n">main</span>
</pre></div>
</div>
<p>In this case we call the enviorement ‘mf’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">mf</span> <span class="o">-</span><span class="n">c</span> <span class="n">ibh</span> <span class="o">-</span><span class="n">c</span>  <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">modelflow</span> <span class="n">jupyter</span> <span class="o">-</span><span class="n">y</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">mf</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">dash_interactive_graphviz</span>
<span class="n">jupyter</span> <span class="n">contrib</span> <span class="n">nbextension</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">hide_input_all</span><span class="o">/</span><span class="n">main</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">splitcell</span><span class="o">/</span><span class="n">splitcell</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">toc2</span><span class="o">/</span><span class="n">main</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">xlwings</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">update</span> <span class="n">modelflow</span> <span class="o">-</span><span class="n">c</span> <span class="n">ibh</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>  <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<section id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline"></a></h2>
</section>
</section>
<section id="module-modelclass">
<span id="modelclass"></span><h1>Modelclass<a class="headerlink" href="#module-modelclass" title="Permalink to this headline"></a></h1>
<p>Created on Mon Sep 02 19:41:11 2013</p>
<p>This module creates model class instances.</p>
<p>&#64;author: Ib</p>
<dl class="py class">
<dt class="sig sig-object py" id="modelclass.node">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelclass.node" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="modelclass.node.child">
<span class="sig-name descname"><span class="pre">child</span></span><a class="headerlink" href="#modelclass.node.child" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelclass.node.lev">
<span class="sig-name descname"><span class="pre">lev</span></span><a class="headerlink" href="#modelclass.node.lev" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelclass.node.parent">
<span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#modelclass.node.parent" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.BaseModel">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">BaseModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i_eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'testmodel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">straight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tabcomplete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previousbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_preorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel" title="Permalink to this definition"></a></dt>
<dd><p>Class which defines a model from equations</p>
<p>In itself the BaseModel is of no use.</p>
<p>The <strong>model</strong> class enriches BaseModel with additional
Mixin classes which has additional methods and properties.</p>
<p>A model instance has a number of properties among which theese can be particular useful:</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">allvar</dt>
<dd class="field-odd"><p>Information regarding all variables</p>
</dd>
<dt class="field-even">basedf</dt>
<dd class="field-even"><p>A dataframe with first result created with this model instance</p>
</dd>
<dt class="field-odd">altdf</dt>
<dd class="field-odd"><p>A dataframe with the last result created with this model instance</p>
</dd>
</dl>
</div></blockquote>
<p>The two result dataframes are used for comparision and visualisation. The user can set both basedf and altdf.</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.from_eq">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'testmodel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">straight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tabcomplete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previousbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.from_eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.from_eq" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Creates a model from macro Business logic language.</p>
<p>That is the model specification is first exploded.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="field-list simple">
<dt class="field-odd">equations</dt>
<dd class="field-odd"><p>The model</p>
</dd>
<dt class="field-even">modelname</dt>
<dd class="field-even"><p>Name of the model. Defaults to ‘testmodel’.</p>
</dd>
<dt class="field-odd">silent</dt>
<dd class="field-odd"><p>Suppress messages. Defaults to False.</p>
</dd>
<dt class="field-even">straigth</dt>
<dd class="field-even"><p>Don’t reorder the model. Defaults to False.</p>
</dd>
<dt class="field-odd">funks</dt>
<dd class="field-odd"><p>Functions incorporated in the model specification . Defaults to [].</p>
</dd>
<dt class="field-even">params</dt>
<dd class="field-even"><p>For later use. Defaults to {}.</p>
</dd>
<dt class="field-odd">tabcomplete</dt>
<dd class="field-odd"><p>Allow tab compleetion in editor, for large model time consuming. Defaults to True.</p>
</dd>
<dt class="field-even">previousbase</dt>
<dd class="field-even"><p>Use previous run as basedf not the first. Defaults to False.</p>
</dd>
<dt class="field-odd">norm</dt>
<dd class="field-odd"><p>Normalize the model. Defaults to True.</p>
</dd>
<dt class="field-even">sym</dt>
<dd class="field-even"><p>If normalize do it symbolic. Defaults to False.</p>
</dd>
<dt class="field-odd">sep</dt>
<dd class="field-odd"><p>Seperate the equations. Defaults to newline ‘</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>‘.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A model instance:</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.get_histmodel">
<span class="sig-name descname"><span class="pre">get_histmodel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.get_histmodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.get_histmodel" title="Permalink to this definition"></a></dt>
<dd><p>return a model instance with a model which generates historic values for equations
marked by a frml name I or IDENT</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.analyzemodelnew">
<span class="sig-name descname"><span class="pre">analyzemodelnew</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">silent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.analyzemodelnew"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.analyzemodelnew" title="Permalink to this definition"></a></dt>
<dd><p>Analyze a model</p>
<p>The function creats:<strong>Self.allvar</strong> is a dictory with an entry for every variable in the model
the key is the variable name.
For each endogeneous variable there is a directory with thees keys:</p>
<dl class="field-list simple">
<dt class="field-odd">Maxlag</dt>
<dd class="field-odd"><p>The max lag for this variable</p>
</dd>
<dt class="field-even">Maxlead</dt>
<dd class="field-even"><p>The max Lead for this variable</p>
</dd>
<dt class="field-odd">Endo</dt>
<dd class="field-odd"><p>1 if the variable is endogeneous (ie on the left hand side of =</p>
</dd>
<dt class="field-even">Frml</dt>
<dd class="field-even"><p>String with the formular for this variable</p>
</dd>
<dt class="field-odd">Frmlnumber</dt>
<dd class="field-odd"><p>The number of the formular</p>
</dd>
<dt class="field-even">Varnr</dt>
<dd class="field-even"><p>Number of this variable</p>
</dd>
<dt class="field-odd">Terms</dt>
<dd class="field-odd"><p>The frml for this variable translated to terms</p>
</dd>
<dt class="field-even">Frmlname</dt>
<dd class="field-even"><p>The frmlname for this variable</p>
</dd>
<dt class="field-odd">Startnr</dt>
<dd class="field-odd"><p>Start of this variable in gauss seidel solutio vector :Advanced:</p>
</dd>
<dt class="field-even">Matrix</dt>
<dd class="field-even"><p>This lhs element is a matrix</p>
</dd>
<dt class="field-odd">Dropfrml</dt>
<dd class="field-odd"><p>If this frml shoud be excluded from the evaluation.</p>
</dd>
</dl>
<p>In addition theese properties will be created:</p>
<dl class="field-list simple">
<dt class="field-odd">Endogene</dt>
<dd class="field-odd"><p>Set of endogeneous variable in the model</p>
</dd>
<dt class="field-even">Exogene</dt>
<dd class="field-even"><p>Se exogeneous variable in the model</p>
</dd>
<dt class="field-odd">Maxnavlen</dt>
<dd class="field-odd"><p>The longest variable name</p>
</dd>
<dt class="field-even">Blank</dt>
<dd class="field-even"><p>An emty string which can contain the longest variable name</p>
</dd>
<dt class="field-odd">Solveorder</dt>
<dd class="field-odd"><p>The order in which the model is solved - initaly the order of the equations in the model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.smpl">
<span class="sig-name descname"><span class="pre">smpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.smpl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.smpl" title="Permalink to this definition"></a></dt>
<dd><p>Defines the model.current_per which is used for calculation period/index
when no parameters are issues the current current period is returned</p>
<p>Either none or all parameters have to be provided</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.check_sim_smpl">
<span class="sig-name descname"><span class="pre">check_sim_smpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">databank</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.check_sim_smpl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.check_sim_smpl" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the current period (the SMPL) is can contain the lags and the leads</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.set_smpl">
<span class="sig-name descname"><span class="pre">set_smpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.set_smpl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.set_smpl" title="Permalink to this definition"></a></dt>
<dd><p>Sets the scope for the models time range, and restors it afterward</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – Start time. Defaults to ‘’.</p></li>
<li><p><strong>slut</strong> – End time. Defaults to ‘’.</p></li>
<li><p><strong>df</strong> (<em>Dataframe</em><em>, </em><em>optional</em>) – Used on a dataframe not self.basedf. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.set_smpl_relative">
<span class="sig-name descname"><span class="pre">set_smpl_relative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_ofset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut_ofset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.set_smpl_relative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.set_smpl_relative" title="Permalink to this definition"></a></dt>
<dd><p>Sets the scope for the models time range relative to the current, and restores it afterward</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.keepswitch">
<span class="sig-name descname"><span class="pre">keepswitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">switch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenarios</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.keepswitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.keepswitch" title="Permalink to this definition"></a></dt>
<dd><p>temporary place basedf,lastdf in keep_solutions
if scenarios contains * or ? they are separated by | else space</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.BaseModel.endograph">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">endograph</span></span><a class="headerlink" href="#modelclass.BaseModel.endograph" title="Permalink to this definition"></a></dt>
<dd><p>Dependencygraph for currrent periode endogeneous variable, used for reorder the equations</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.BaseModel.calculate_freq">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">calculate_freq</span></span><a class="headerlink" href="#modelclass.BaseModel.calculate_freq" title="Permalink to this definition"></a></dt>
<dd><p>The number of operators in the model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.BaseModel.flop_get">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">flop_get</span></span><a class="headerlink" href="#modelclass.BaseModel.flop_get" title="Permalink to this definition"></a></dt>
<dd><p>The number of operators in the model prolog,core and epilog</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.get_columnsnr">
<span class="sig-name descname"><span class="pre">get_columnsnr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.get_columnsnr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.get_columnsnr" title="Permalink to this definition"></a></dt>
<dd><p>returns a dict a databanks variables as keys and column number as item
used for fast getting and setting of variable values in the dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.outeval">
<span class="sig-name descname"><span class="pre">outeval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">databank</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.outeval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.outeval" title="Permalink to this definition"></a></dt>
<dd><p>takes a list of terms and translates to a evaluater function called los</p>
<p>The model axcess the data through:Dataframe.value[rowindex+lag,coloumnindex] which is very efficient</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.eqcolumns">
<span class="sig-name descname"><span class="pre">eqcolumns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.eqcolumns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.eqcolumns" title="Permalink to this definition"></a></dt>
<dd><p>compares two lists</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.xgenr">
<span class="sig-name descname"><span class="pre">xgenr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">databank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samedata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.xgenr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.xgenr" title="Permalink to this definition"></a></dt>
<dd><p>Evaluates this model on a databank from start to slut (means end in Danish).</p>
<p>First it finds the values in the Dataframe, then creates the evaluater function through the <em>outeval</em> function
(<code class="xref py py-func docutils literal notranslate"><span class="pre">modelclass.model.fouteval()</span></code>)
then it evaluates the function and returns the values to a the Dataframe in the databank.</p>
<p>The text for the evaluater function is placed in the model property <strong>make_los_text</strong>
where it can be inspected
in case of problems.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.findpos">
<span class="sig-name descname"><span class="pre">findpos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.findpos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.findpos" title="Permalink to this definition"></a></dt>
<dd><p>find a startposition in the calculation array for a model
places startposition for each variable in model.allvar[variable][‘startpos’]
places the max startposition in model.maxstart</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.make_gaussline">
<span class="sig-name descname"><span class="pre">make_gaussline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.make_gaussline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.make_gaussline" title="Permalink to this definition"></a></dt>
<dd><p>takes a list of terms and translates to a line in a gauss-seidel solver for
simultanius models
the variables are mapped to position in a vector which has all relevant varaibles lagged
this is in order to provide opertunity to optimise data and solving</p>
<p>New version to take hand of several lhs variables. Dampning is not allowed for
this. But can easely be implemented by makeing a function to multiply tupels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.make_resline">
<span class="sig-name descname"><span class="pre">make_resline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.make_resline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.make_resline" title="Permalink to this definition"></a></dt>
<dd><p>takes a list of terms and translates to a line calculating line</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.createstuff3">
<span class="sig-name descname"><span class="pre">createstuff3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfxx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.createstuff3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.createstuff3" title="Permalink to this definition"></a></dt>
<dd><p>Connect a dataframe with the solution vector used by the iterative sim2 solver)
return a function to place data in solution vector and to retrieve it again.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.outsolve">
<span class="sig-name descname"><span class="pre">outsolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.outsolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.outsolve" title="Permalink to this definition"></a></dt>
<dd><p>returns a string with a function which calculates a
Gauss-Seidle iteration of a model
exclude is list of endogeneous variables not to be solved
uses:
model.solveorder the order in which the variables is calculated
model.allvar[v][“gauss”] the ccalculation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.make_solver">
<span class="sig-name descname"><span class="pre">make_solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ljit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.make_solver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.make_solver" title="Permalink to this definition"></a></dt>
<dd><p>makes a function which performs a Gaus-Seidle iteration
if ljit=True a Jittet function will also be created.
The functions will be placed in:
model.solve
model.solve_jit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.base_sim">
<span class="sig-name descname"><span class="pre">base_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">databank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ljit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samedata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldumpvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpwith</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dumpdecimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lcython</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setlast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alfa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absconv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relconv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.base_sim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.base_sim" title="Permalink to this definition"></a></dt>
<dd><p>solves a model with data from a databank if the model has a solve function else it will be created.</p>
<p>The default options are resonable for most use:</p>
<dl class="field-list simple">
<dt class="field-odd">Start,slut</dt>
<dd class="field-odd"><p>Start and end of simulation, default as much as possible taking max lag into acount</p>
</dd>
</dl>
<p>:max_iterations : Max interations
:first_test: First iteration where convergence is tested
:ljit: If True Numba is used to compile just in time - takes time but speeds solving up
:new: Force creation a new version of the solver (for testing)
:exclude: Don’t use use theese foormulas
:silent: Suppres solving informations
:conv: Variables on which to measure if convergence has been achived
:samedata: If False force a remap of datatrframe to solving vector (for testing)
:dumpvar: Variables to dump
:ldumpvar: toggels dumping of dumpvar
:dumpwith: with of dumps
:dumpdecimal: decimals in dumps
:lcython: Use Cython to compile the model (experimental )
:alfa: Dampning of formulas marked for dampning (&lt;Z&gt; in frml name)
:sim: For later use
:absconv: Treshold for applying relconv to test convergence
:relconv: Test for convergence
:debug:  Output debug information
:stats:  Output solving statistics</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.outres">
<span class="sig-name descname"><span class="pre">outres</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.outres"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.outres" title="Permalink to this definition"></a></dt>
<dd><p>returns a string with a function which calculates a
calculation for residual check
exclude is list of endogeneous variables not to be solved
uses:
model.solveorder the order in which the variables is calculated</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.make_res">
<span class="sig-name descname"><span class="pre">make_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.make_res"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.make_res" title="Permalink to this definition"></a></dt>
<dd><p>makes a function which performs a Gaus-Seidle iteration
if ljit=True a Jittet function will also be created.
The functions will be placed in:
model.solve
model.solve_jit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.BaseModel.base_res">
<span class="sig-name descname"><span class="pre">base_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">databank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#BaseModel.base_res"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.BaseModel.base_res" title="Permalink to this definition"></a></dt>
<dd><p>calculates a model with data from a databank
Used for check wether each equation gives the same result as in the original databank’</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Org_model_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>The model class, used for calculating models</p>
<p>Compared to BaseModel it allows for simultaneous model and contains a number of properties
and functions to analyze and manipulate models and visualize results.</p>
<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.listud">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">listud</span></span><a class="headerlink" href="#modelclass.Org_model_Mixin.listud" title="Permalink to this definition"></a></dt>
<dd><p>returns a string of the models listdefinitions</p>
<p>used when ceating (small) models based on this model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.vlist">
<span class="sig-name descname"><span class="pre">vlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.vlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.vlist" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of variable in the model matching the pattern, the pattern can be a list of patterns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.list_names">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">list_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.list_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.list_names" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of variable in input  matching the pattern, the pattern can be a list of patterns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.exodif">
<span class="sig-name descname"><span class="pre">exodif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.exodif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.exodif" title="Permalink to this definition"></a></dt>
<dd><p>Finds the differences between two dataframes in exogeneous variables for the model
Defaults to getting the two dataframes (basedf and lastdf) internal to the model instance</p>
<p>Exogeneous with a name ending in &lt;endo&gt;__RES are not taken in, as they are part of a un_normalized model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.get_eq_values">
<span class="sig-name descname"><span class="pre">get_eq_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varnavn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">databank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nolag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alsoendo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.get_eq_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.get_eq_values" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dataframe with values from a frml determining a variable</p>
<dl class="simple">
<dt>options:</dt><dd><dl class="field-list simple">
<dt class="field-odd">last</dt>
<dd class="field-odd"><p>the lastdf is used else baseline dataframe</p>
</dd>
<dt class="field-even">nolag</dt>
<dd class="field-even"><p>only line for each variable</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.get_eq_dif">
<span class="sig-name descname"><span class="pre">get_eq_dif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varnavn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nolag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.get_eq_dif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.get_eq_dif" title="Permalink to this definition"></a></dt>
<dd><p>returns a dataframe with difference of values from formula</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.get_var_growth">
<span class="sig-name descname"><span class="pre">get_var_growth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.get_var_growth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.get_var_growth" title="Permalink to this definition"></a></dt>
<dd><p>Returns the  growth rate of this variable in the base and the last dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.get_values">
<span class="sig-name descname"><span class="pre">get_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.get_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.get_values" title="Permalink to this definition"></a></dt>
<dd><p>returns a dataframe with the data points for a node,  including lags</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Org_model_Mixin.todynare">
<span class="sig-name descname"><span class="pre">todynare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paravars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paravalues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Org_model_Mixin.todynare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Org_model_Mixin.todynare" title="Permalink to this definition"></a></dt>
<dd><p>This is a function which converts a Modelflow  model instance to Dynare .mod format</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Model_help_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Model_help_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Model_help_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Model_help_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>Helpers to model</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Model_help_Mixin.timer">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Model_help_Mixin.timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Model_help_Mixin.timer" title="Permalink to this definition"></a></dt>
<dd><p>A timer context manager, implemented using a
generator function. This one will report time even if an exception occurs
the time in seconds can be retrieved by &lt;retunr value&gt;.seconds “””</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>string</em><em>, </em><em>optional</em>) – a name. The default is ‘test’.</p></li>
<li><p><strong>show</strong> (<em>bool</em><em>, </em><em>optional</em>) – show the results. The default is True.</p></li>
<li><p><strong>short</strong> (<em>bool</em><em>, </em><em>optional</em>) – . The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Model_help_Mixin.insertModelVar">
<span class="sig-name descname"><span class="pre">insertModelVar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addmodel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Model_help_Mixin.insertModelVar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Model_help_Mixin.insertModelVar" title="Permalink to this definition"></a></dt>
<dd><p>Inserts all variables from this model, not already in the dataframe.
If model is specified, the dataframw will contain all variables from this and model models.</p>
<p>also located at the module level for backward compability</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Model_help_Mixin.defsub">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">defsub</span></span><a class="reference internal" href="_modules/modelclass.html#Model_help_Mixin.defsub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Model_help_Mixin.defsub" title="Permalink to this definition"></a></dt>
<dd><p>A subclass of dict.
if a <em>defsub</em> is indexed by a nonexisting keyword it just return the keyword</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Model_help_Mixin.test_model">
<span class="sig-name descname"><span class="pre">test_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxerr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showall</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Model_help_Mixin.test_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Model_help_Mixin.test_model" title="Permalink to this definition"></a></dt>
<dd><p>Compares a straight calculation with the input dataframe.</p>
<p>shows which variables dont have the same value</p>
<p>Very useful when implementing a model where the results are known</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>) – dataframe to run.</p></li>
<li><p><strong>start</strong> (<em>index</em><em>, </em><em>optional</em>) – start period. Defaults to None.</p></li>
<li><p><strong>end</strong> (<em>index</em><em>, </em><em>optional</em>) – end period. Defaults to None.</p></li>
<li><p><strong>maxvar</strong> (<em>int</em><em>, </em><em>optional</em>) – how many variables are to be chekked. Defaults to 1_000_000.</p></li>
<li><p><strong>maxerr</strong> (<em>int</em><em>, </em><em>optional</em>) – how many errors to check Defaults to 100.</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em>) – check for absolute value of difference. Defaults to 0.0001.</p></li>
<li><p><strong>showall</strong> (<em>bolean</em><em>, </em><em>optional</em>) – show more . Defaults to False.</p></li>
<li><p><strong>ref_df</strong> (<em>DataFrame</em><em>, </em><em>optional</em>) – this dataframe is used for reference, used if adjustment terms has been calculated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Dekomp_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>This class defines methods and properties related to equation attribution analyses (dekomp)</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.dekomp">
<span class="sig-name descname"><span class="pre">dekomp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varnavn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basedf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.dekomp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.dekomp" title="Permalink to this definition"></a></dt>
<dd><p>Print all variables that determines input variable (varnavn)
optional – enter period and databank to get var values for chosen period</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.dekomp_plot_per">
<span class="sig-name descname"><span class="pre">dekomp_plot_per</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varnavn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.dekomp_plot_per"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.dekomp_plot_per" title="Permalink to this definition"></a></dt>
<dd><p>Returns  a waterfall diagram with attribution for a variable in one time frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>varnavn</strong> (<em>TYPE</em>) – variable name.</p></li>
<li><p><strong>sort</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – . The default is False.</p></li>
<li><p><strong>pct</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – display pct contribution . The default is True.</p></li>
<li><p><strong>per</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is ‘’.</p></li>
<li><p><strong>threshold</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – cutoff. The default is 0.0.</p></li>
<li><p><strong>rename</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Use descriptions instead of variable names. The default is True.</p></li>
<li><p><strong>time_att</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Do time attribution . The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>a matplotlib figure instance .</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.get_att_pct">
<span class="sig-name descname"><span class="pre">get_att_pct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.get_att_pct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.get_att_pct" title="Permalink to this definition"></a></dt>
<dd><p>det attribution pct for a variable.
I little effort to change from multiindex to single node name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.get_att_pct_to_from">
<span class="sig-name descname"><span class="pre">get_att_pct_to_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.get_att_pct_to_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.get_att_pct_to_from" title="Permalink to this definition"></a></dt>
<dd><p>Get the  attribution for a singel variable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.get_att_level">
<span class="sig-name descname"><span class="pre">get_att_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.get_att_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.get_att_level" title="Permalink to this definition"></a></dt>
<dd><p>det attribution pct for a variable.
I little effort to change from multiindex to single node name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.dekomp_plot">
<span class="sig-name descname"><span class="pre">dekomp_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varnavn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.dekomp_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.dekomp_plot" title="Permalink to this definition"></a></dt>
<dd><p>Returns  a chart with attribution for a variable over the smpl</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>varnavn</strong> (<em>TYPE</em>) – variable name.</p></li>
<li><p><strong>sort</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – . The default is False.</p></li>
<li><p><strong>pct</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – display pct contribution . The default is True.</p></li>
<li><p><strong>per</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is ‘’.</p></li>
<li><p><strong>threshold</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – cutoff. The default is 0.0.</p></li>
<li><p><strong>rename</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Use descriptions instead of variable names. The default is True.</p></li>
<li><p><strong>time_att</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Do time attribution . The default is False.</p></li>
<li><p><strong>lag</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – separete by lags The default is True.</p></li>
<li><p><strong>top</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – where to place the title</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>a matplotlib figure instance .</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Dekomp_Mixin.get_att_gui">
<span class="sig-name descname"><span class="pre">get_att_gui</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desdic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'level'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Dekomp_Mixin.get_att_gui"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Dekomp_Mixin.get_att_gui" title="Permalink to this definition"></a></dt>
<dd><p>Creates a jupyter ipywidget to display model level
attributions</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Description_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Description_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Description_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Description_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>This Class defines description related methods and properties</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Description_Mixin.html_replace">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">html_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Description_Mixin.html_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Description_Mixin.html_replace" title="Permalink to this definition"></a></dt>
<dd><p>Replace special characters in html</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Description_Mixin.var_des">
<span class="sig-name descname"><span class="pre">var_des</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Description_Mixin.var_des"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Description_Mixin.var_des" title="Permalink to this definition"></a></dt>
<dd><p>Returns blank if no description</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Description_Mixin.get_eq_des">
<span class="sig-name descname"><span class="pre">get_eq_des</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Description_Mixin.get_eq_des"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Description_Mixin.get_eq_des" title="Permalink to this definition"></a></dt>
<dd><p>Returns a string of descriptions for all variables in an equation:</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Modify_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Modify_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Modify_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Modify_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>Class to modify a model with new equations, (later alse delete, and new normalization)</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Modify_Mixin.eqflip">
<span class="sig-name descname"><span class="pre">eqflip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calc_add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Modify_Mixin.eqflip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Modify_Mixin.eqflip" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>newnormalisation</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Not implementet yet . The default is None.</p></li>
<li><p><strong>newfunks</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Additional userspecified functions. The default is [].</p></li>
<li><p><strong>calc_add</strong> (<em>bool</em><em>, </em><em>optional</em>) – Additional userspecified functions. The default is [].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>newmodel</strong> (<em>TYPE</em>) – The new  model with the new and deleted equations .</p></li>
<li><p><strong>newdf</strong> (<em>TYPE</em>) – a dataframe with calculated add factors. Origin is the original models lastdf.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Modify_Mixin.eqdelete">
<span class="sig-name descname"><span class="pre">eqdelete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deleteeq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Modify_Mixin.eqdelete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Modify_Mixin.eqdelete" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deleteeq</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Variables where equations are to be deleted. The default is None.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>newmodel</strong> (<em>TYPE</em>) – The new  model with the new and deleted equations .</p></li>
<li><p><strong>newdf</strong> (<em>TYPE</em>) – a dataframe with calculated add factors. Origin is the original models lastdf.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Modify_Mixin.equpdate">
<span class="sig-name descname"><span class="pre">equpdate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updateeq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newfunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calc_add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Modify_Mixin.equpdate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Modify_Mixin.equpdate" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>updateeq</strong> (<em>TYPE</em>) – new equations seperated by newline .</p></li>
<li><p><strong>newfunks</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Additional userspecified functions. The default is [].</p></li>
<li><p><strong>calc_add</strong> (<em>bool</em><em>, </em><em>optional</em>) – Additional userspecified functions. The default is [].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>newmodel</strong> (<em>TYPE</em>) – The new  model with the new and deleted equations .</p></li>
<li><p><strong>newdf</strong> (<em>TYPE</em>) – a dataframe with calculated add factors. Origin is the original models lastdf.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Modify_Mixin.equpdate_old">
<span class="sig-name descname"><span class="pre">equpdate_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updateeq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newfunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calc_add</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Modify_Mixin.equpdate_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Modify_Mixin.equpdate_old" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>updateeq</strong> (<em>TYPE</em>) – new equations seperated by newline .</p></li>
<li><p><strong>newfunks</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Additional userspecified functions. The default is [].</p></li>
<li><p><strong>calc_add</strong> (<em>bool</em><em>, </em><em>optional</em>) – Additional userspecified functions. The default is [].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>newmodel</strong> (<em>TYPE</em>) – The new  model with the new and deleted equations .</p></li>
<li><p><strong>newdf</strong> (<em>TYPE</em>) – a dataframe with calculated add factors. Origin is the original models lastdf.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Graph_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Graph_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>This class defines graph related methods and properties</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.create_strong_network">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_strong_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Network'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Mixin.create_strong_network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Mixin.create_strong_network" title="Permalink to this definition"></a></dt>
<dd><p>create a solveorder and   blockordering of af graph
uses networkx to find the core of the model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.strongfrml">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">strongfrml</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.strongfrml" title="Permalink to this definition"></a></dt>
<dd><p>To search simultaneity (circularity) in a model
this function returns the equations in each strong block</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.superblock">
<span class="sig-name descname"><span class="pre">superblock</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Mixin.superblock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Mixin.superblock" title="Permalink to this definition"></a></dt>
<dd><p>finds prolog, core and epilog variables</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.prevar">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">prevar</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.prevar" title="Permalink to this definition"></a></dt>
<dd><p>returns a set with names of endogenopus variables which do not depend
on current endogenous variables</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.epivar">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">epivar</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.epivar" title="Permalink to this definition"></a></dt>
<dd><p>returns a set with names of endogenopus variables which do not influence
current endogenous variables</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.preorder">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">preorder</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.preorder" title="Permalink to this definition"></a></dt>
<dd><p>the endogenous variables which can be calculated in advance</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.epiorder">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">epiorder</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.epiorder" title="Permalink to this definition"></a></dt>
<dd><p>the endogenous variables which can be calculated in advance</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.coreorder">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">coreorder</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.coreorder" title="Permalink to this definition"></a></dt>
<dd><p>the solution order of the endogenous variables in the simultaneous core of the model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.coreset">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">coreset</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.coreset" title="Permalink to this definition"></a></dt>
<dd><p>The set of variables of the endogenous variables in the simultaneous core of the model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.totgraph_nolag">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">totgraph_nolag</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.totgraph_nolag" title="Permalink to this definition"></a></dt>
<dd><p>The graph of all variables, lagged variables condensed</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.totgraph">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">totgraph</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.totgraph" title="Permalink to this definition"></a></dt>
<dd><p>Returns the total graph of the model, including leads and lags</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.endograph_nolag">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">endograph_nolag</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.endograph_nolag" title="Permalink to this definition"></a></dt>
<dd><p>Dependencygraph for all periode endogeneous variable, shows total dependencies</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.endograph_lag_lead">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">endograph_lag_lead</span></span><a class="headerlink" href="#modelclass.Graph_Mixin.endograph_lag_lead" title="Permalink to this definition"></a></dt>
<dd><p>Returns the graph of all endogeneous variables including lags and leads</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.totgraph_get">
<span class="sig-name descname"><span class="pre">totgraph_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">onlyendo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Mixin.totgraph_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Mixin.totgraph_get" title="Permalink to this definition"></a></dt>
<dd><p>The graph of all variables including and seperate lagged and leaded variable</p>
<p>onlyendo : only endogenous variables are part of the graph</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.graph_remove">
<span class="sig-name descname"><span class="pre">graph_remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paralist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Mixin.graph_remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Mixin.graph_remove" title="Permalink to this definition"></a></dt>
<dd><p>Removes a list of variables from the totgraph and totgraph_nolag
mostly used to remove parmeters from the graph, makes it less crowded</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Mixin.graph_restore">
<span class="sig-name descname"><span class="pre">graph_restore</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Mixin.graph_restore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Mixin.graph_restore" title="Permalink to this definition"></a></dt>
<dd><p>If nodes has been removed by the graph_remove, calling this function will restore them</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Graph_Draw_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>This class defines methods and properties which draws and vizualize using different
graphs of the model</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.treewalk">
<span class="sig-name descname"><span class="pre">treewalk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Start'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.treewalk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.treewalk" title="Permalink to this definition"></a></dt>
<dd><p>Traverse the call tree from name, and returns a generator</p>
<p>to get a list just write: list(treewalk(…))
maxlevel determins the number of generations to back up</p>
<p>lpre=0 we walk the dependent
lpre=1 we walk the precednc nodes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.drawendo">
<span class="sig-name descname"><span class="pre">drawendo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.drawendo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.drawendo" title="Permalink to this definition"></a></dt>
<dd><p>draws a graph of of the whole model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.drawendo_lag_lead">
<span class="sig-name descname"><span class="pre">drawendo_lag_lead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.drawendo_lag_lead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.drawendo_lag_lead" title="Permalink to this definition"></a></dt>
<dd><p>draws a graph of of the whole model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.drawmodel">
<span class="sig-name descname"><span class="pre">drawmodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.drawmodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.drawmodel" title="Permalink to this definition"></a></dt>
<dd><p>draws a graph of of the whole model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.draw">
<span class="sig-name descname"><span class="pre">draw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.draw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.draw" title="Permalink to this definition"></a></dt>
<dd><p>draws a graph of dependensies of navn up to maxlevel</p>
<dl class="field-list simple">
<dt class="field-odd">Lag</dt>
<dd class="field-odd"><p>show the complete graph including lagged variables else only variables.</p>
</dd>
<dt class="field-even">Endo</dt>
<dd class="field-even"><p>Show only the graph for current endogenous variables</p>
</dd>
<dt class="field-odd">Down</dt>
<dd class="field-odd"><p>level downstream</p>
</dd>
<dt class="field-even">Up</dt>
<dd class="field-even"><p>level upstream</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.trans">
<span class="sig-name descname"><span class="pre">trans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transdic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.trans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.trans" title="Permalink to this definition"></a></dt>
<dd><p>as there are many variable starting with SHOCK, the can renamed to save nodes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.upwalk">
<span class="sig-name descname"><span class="pre">upwalk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Start'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.upwalk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.upwalk" title="Permalink to this definition"></a></dt>
<dd><p>Traverse the call tree from name, and returns a generator</p>
<p>to get a list just write: list(upwalk(…))
maxlevel determins the number
of generations to back maxlevel</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.upwalk_old">
<span class="sig-name descname"><span class="pre">upwalk_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Start'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.upwalk_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.upwalk_old" title="Permalink to this definition"></a></dt>
<dd><p>Traverse the call tree from name, and returns a generator</p>
<p>to get a list just write: list(upwalk(…))
up determins the number
of generations to back up</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.explain">
<span class="sig-name descname"><span class="pre">explain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showatt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noshow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.explain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.explain" title="Permalink to this definition"></a></dt>
<dd><p>Walks a tree to explain the difference between basedf and lastdf</p>
<p>Parameters:
:var:  the variable we are looking at
:up:  how far up the tree will we climb
:select: Only show the nodes which contributes
:showatt: Show the explanation in pct
:lag:  If true, show all lags, else aggregate lags for each variable.
:HR: if true make horisontal graph
:title: Title
:saveas: Filename
:pdf: open the pdf file
:svg: display the svg file
:browser: if true open the svg file in browser
:noshow: Only return the resulting graph
:dot: Return the dot file only</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.todot">
<span class="sig-name descname"><span class="pre">todot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">browser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.todot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.todot" title="Permalink to this definition"></a></dt>
<dd><p>makes a drawing of subtree originating from navn
all is the edges
attributex can be shown</p>
<dl class="field-list simple">
<dt class="field-odd">Sink</dt>
<dd class="field-odd"><p>variale to use as sink</p>
</dd>
<dt class="field-even">Svg</dt>
<dd class="field-even"><p>Display the svg image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.gdraw">
<span class="sig-name descname"><span class="pre">gdraw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.gdraw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.gdraw" title="Permalink to this definition"></a></dt>
<dd><p>draws a graph of of the whole model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.maketip">
<span class="sig-name descname"><span class="pre">maketip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.maketip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.maketip" title="Permalink to this definition"></a></dt>
<dd><p>Return a tooltip for variable v.</p>
<p>For use when generating .dot files for Graphviz</p>
<p>If html==True it can be incorporated into html string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.makedotnew">
<span class="sig-name descname"><span class="pre">makedotnew</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alledges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.makedotnew"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.makedotnew" title="Permalink to this definition"></a></dt>
<dd><p>makes a drawing of all edges in list alledges
all is the edges</p>
<p>this can handle both attribution and plain</p>
<dl class="field-list simple">
<dt class="field-odd">All</dt>
<dd class="field-odd"><p>show values for .dfbase and .lastdf</p>
</dd>
<dt class="field-even">Last</dt>
<dd class="field-even"><p>show the values for .lastdf</p>
</dd>
<dt class="field-odd">Growthshow</dt>
<dd class="field-odd"><p>Show growthrates</p>
</dd>
<dt class="field-even">Attshow</dt>
<dd class="field-even"><p>Show attributiuons</p>
</dd>
<dt class="field-odd">Filter</dt>
<dd class="field-odd"><p>Prune tree branches where all(abs(attribution)&lt;filter value)</p>
</dd>
<dt class="field-even">Sink</dt>
<dd class="field-even"><p>variale to use as sink</p>
</dd>
<dt class="field-odd">Source</dt>
<dd class="field-odd"><p>variale to use as ssource</p>
</dd>
<dt class="field-even">Svg</dt>
<dd class="field-even"><p>Display the svg image in browser</p>
</dd>
<dt class="field-odd">Pdf</dt>
<dd class="field-odd"><p>display the pdf result in acrobat reader</p>
</dd>
<dt class="field-even">Saveas</dt>
<dd class="field-even"><p>Save the drawing as name</p>
</dd>
<dt class="field-odd">Size</dt>
<dd class="field-odd"><p>figure size default (6,6)</p>
</dd>
<dt class="field-even">Warnings</dt>
<dd class="field-even"><p>warnings displayed in command console, default =False</p>
</dd>
<dt class="field-odd">Invisible</dt>
<dd class="field-odd"><p>set of invisible nodes</p>
</dd>
<dt class="field-even">Labels</dt>
<dd class="field-even"><p>dict of labels for edges</p>
</dd>
<dt class="field-odd">Transdic</dt>
<dd class="field-odd"><p>dict of translations for consolidation of nodes {‘SHOCK[_A-Z]*__J’:’SHOCK__J’,’DEV__[_A-Z]*’:’DEV’}</p>
</dd>
<dt class="field-even">Dec</dt>
<dd class="field-even"><p>decimal places in numbers</p>
</dd>
<dt class="field-odd">HR</dt>
<dd class="field-odd"><p>horisontal orientation default = False</p>
</dd>
<dt class="field-even">Des</dt>
<dd class="field-even"><p>inject variable descriptions</p>
</dd>
<dt class="field-odd">Fokus</dt>
<dd class="field-odd"><p>Variable to get special colour</p>
</dd>
<dt class="field-even">Fokus2</dt>
<dd class="field-even"><p>Variable for which values are shown</p>
</dd>
<dt class="field-odd">Fokus2all</dt>
<dd class="field-odd"><p>Show values for all variables</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.todot2">
<span class="sig-name descname"><span class="pre">todot2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alledges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.todot2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.todot2" title="Permalink to this definition"></a></dt>
<dd><p>makes a drawing of all edges in list alledges
all is the edges</p>
<dl class="field-list simple">
<dt class="field-odd">All</dt>
<dd class="field-odd"><p>show values for .dfbase and .dflaste</p>
</dd>
<dt class="field-even">Last</dt>
<dd class="field-even"><p>show the values for .dflast</p>
</dd>
<dt class="field-odd">Sink</dt>
<dd class="field-odd"><p>variale to use as sink</p>
</dd>
<dt class="field-even">Source</dt>
<dd class="field-even"><p>variale to use as ssource</p>
</dd>
<dt class="field-odd">Svg</dt>
<dd class="field-odd"><p>Display the svg image in browser</p>
</dd>
<dt class="field-even">Pdf</dt>
<dd class="field-even"><p>display the pdf result in acrobat reader</p>
</dd>
<dt class="field-odd">Saveas</dt>
<dd class="field-odd"><p>Save the drawing as name</p>
</dd>
<dt class="field-even">Size</dt>
<dd class="field-even"><p>figure size default (6,6)</p>
</dd>
<dt class="field-odd">Warnings</dt>
<dd class="field-odd"><p>warnings displayed in command console, default =False</p>
</dd>
<dt class="field-even">Invisible</dt>
<dd class="field-even"><p>set of invisible nodes</p>
</dd>
<dt class="field-odd">Labels</dt>
<dd class="field-odd"><p>dict of labels for edges</p>
</dd>
<dt class="field-even">Transdic</dt>
<dd class="field-even"><p>dict of translations for consolidation of nodes {‘SHOCK[_A-Z]*__J’:’SHOCK__J’,’DEV__[_A-Z]*’:’DEV’}</p>
</dd>
<dt class="field-odd">Dec</dt>
<dd class="field-odd"><p>decimal places in numbers</p>
</dd>
<dt class="field-even">HR</dt>
<dd class="field-even"><p>horisontal orientation default = False</p>
</dd>
<dt class="field-odd">Des</dt>
<dd class="field-odd"><p>inject variable descriptions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Graph_Draw_Mixin.display_graph">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">display_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Graph_Draw_Mixin.display_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Graph_Draw_Mixin.display_graph" title="Permalink to this definition"></a></dt>
<dd><p>Generates a graphviz file from the commands in out.</p>
<p>The file is placed in cwd/graph</p>
<p>A png and a svg file is generated, and the svg file is displayed if possible.</p>
<p>options pdf and eps determins if a pdf and an eps file is genrated.</p>
<p>option fpdf will cause the graph displayed in a seperate pdf window</p>
<p>option browser determins if a seperate browser window is open</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.Json_Mixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">Json_Mixin</span></span><a class="reference internal" href="_modules/modelclass.html#Json_Mixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Json_Mixin" title="Permalink to this definition"></a></dt>
<dd><p>This mixin class can dump a model and solution
as json serialiation to a file.</p>
<p>allows the precooking of a model and solution, so
a user can use a model without specifying it in
a session.</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Json_Mixin.modeldump">
<span class="sig-name descname"><span class="pre">modeldump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Json_Mixin.modeldump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Json_Mixin.modeldump" title="Permalink to this definition"></a></dt>
<dd><p>Dumps a model and its lastdf to a json file</p>
<p>if keep=True the model.keep_solutions will alse be dumped</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelclass.Json_Mixin.modelload">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">modelload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#Json_Mixin.modelload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.Json_Mixin.modelload" title="Permalink to this definition"></a></dt>
<dd><p>Loads a model and an solution</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelclass.model">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i_eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'testmodel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">straight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tabcomplete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previousbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_preorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.model" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.create_model">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">create_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">navn</span></em>, <em class="sig-param"><span class="pre">hist=0</span></em>, <em class="sig-param"><span class="pre">name=''</span></em>, <em class="sig-param"><span class="pre">new=True</span></em>, <em class="sig-param"><span class="pre">finished=False</span></em>, <em class="sig-param"><span class="pre">xmodel=&lt;class</span> <span class="pre">'modelclass.model'&gt;</span></em>, <em class="sig-param"><span class="pre">straight=False</span></em>, <em class="sig-param"><span class="pre">funks=[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#create_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.create_model" title="Permalink to this definition"></a></dt>
<dd><p>Creates either a model instance or a model and a historic model from formulars.</p>
<p>The formulars can be in a string or in af file withe the extension .txt</p>
<p>if:</p>
<dl class="field-list simple">
<dt class="field-odd">Navn</dt>
<dd class="field-odd"><p>The model as text or as a file with extension .txt</p>
</dd>
<dt class="field-even">Name</dt>
<dd class="field-even"><p>Name of the model</p>
</dd>
<dt class="field-odd">New</dt>
<dd class="field-odd"><p>If True, ! used for comments, else () can also be used. False should be avoided, only for old PCIM models.</p>
</dd>
<dt class="field-even">Hist</dt>
<dd class="field-even"><p>If True, a model with calculations of historic value is also created</p>
</dd>
<dt class="field-odd">Xmodel</dt>
<dd class="field-odd"><p>The model class used for creating model the model instance. Can be used to create models with model subclasses</p>
</dd>
<dt class="field-even">Finished</dt>
<dd class="field-even"><p>If True, the model exploder is not used.</p>
</dd>
<dt class="field-odd">Straight</dt>
<dd class="field-odd"><p>If True, the formula sequence in the model will be used.</p>
</dd>
<dt class="field-even">Funks</dt>
<dd class="field-even"><p>A list of user defined funktions used in the model</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.get_a_value">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">get_a_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#get_a_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.get_a_value" title="Permalink to this definition"></a></dt>
<dd><p>returns a value for row=p+lag, column = var</p>
<p>to take care of non additive row index</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.set_a_value">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">set_a_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#set_a_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.set_a_value" title="Permalink to this definition"></a></dt>
<dd><p>Sets a value for row=p+lag, column = var</p>
<p>to take care of non additive row index</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.insertModelVar">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">insertModelVar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#insertModelVar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.insertModelVar" title="Permalink to this definition"></a></dt>
<dd><p>Inserts all variables from model, not already in the dataframe.
Model can be a list of models</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.lineout">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">lineout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vek</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#lineout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.lineout" title="Permalink to this definition"></a></dt>
<dd><p>Utility to return formated string of vector</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.upddfold">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">upddfold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#upddfold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.upddfold" title="Permalink to this definition"></a></dt>
<dd><p>takes two dataframes. The values from upd is inserted into base</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.upddf">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">upddf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#upddf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.upddf" title="Permalink to this definition"></a></dt>
<dd><p>takes two dataframes. The values from upd is inserted into base</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.randomdf">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">randomdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">same</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ran</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'R'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#randomdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.randomdf" title="Permalink to this definition"></a></dt>
<dd><p>Randomize and rename the rows and columns of a dataframe, keep the values right:</p>
<dl class="field-list simple">
<dt class="field-odd">Ran</dt>
<dd class="field-odd"><p>If True randomize, if False don’t randomize</p>
</dd>
<dt class="field-even">Col</dt>
<dd class="field-even"><p>The columns are renamed and randdomized</p>
</dd>
<dt class="field-odd">Row</dt>
<dd class="field-odd"><p>The rows are renamed and randdomized</p>
</dd>
<dt class="field-even">Same</dt>
<dd class="field-even"><p>The row and column index are renamed and randdomized the same way</p>
</dd>
<dt class="field-odd">Cpre</dt>
<dd class="field-odd"><p>Column name prefix</p>
</dd>
<dt class="field-even">Rpre</dt>
<dd class="field-even"><p>Row name prefix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.join_name_lag">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">join_name_lag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#join_name_lag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.join_name_lag" title="Permalink to this definition"></a></dt>
<dd><p>creates a new dataframe where  the name and lag from multiindex is joined
as input a dataframe where name and lag are two levels in multiindex</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelclass.timer_old">
<span class="sig-prename descclassname"><span class="pre">modelclass.</span></span><span class="sig-name descname"><span class="pre">timer_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelclass.html#timer_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelclass.timer_old" title="Permalink to this definition"></a></dt>
<dd><p>does not catch exceptrions use model.timer</p>
<p>A timer context manager, implemented using a
generator function. This one will report time even if an exception occurs”””</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>string</em><em>, </em><em>optional</em>) – a name. The default is ‘test’.</p></li>
<li><p><strong>show</strong> (<em>bool</em><em>, </em><em>optional</em>) – show the results. The default is True.</p></li>
<li><p><strong>short</strong> (<em>bool</em><em>, </em><em>optional</em>) – . The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-modelpattern">
<span id="modelpattern"></span><h1>Modelpattern<a class="headerlink" href="#module-modelpattern" title="Permalink to this headline"></a></h1>
<p>Created on Mon Sep 02 19:32:22 2013</p>
<p>This module defines a number of pattern used in PYFS.
If a new function is intruduced in the model definition language it should added to the
function names in funkname</p>
<p>All functions in the module modeluserfunk will be added to the language and incorporated in the Business
Logic language</p>
<p>&#64;author: Ib</p>
<dl class="py class">
<dt class="sig sig-object py" id="modelpattern.nterm">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">nterm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#modelpattern.nterm" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="modelpattern.nterm.lag">
<span class="sig-name descname"><span class="pre">lag</span></span><a class="headerlink" href="#modelpattern.nterm.lag" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelpattern.nterm.number">
<span class="sig-name descname"><span class="pre">number</span></span><a class="headerlink" href="#modelpattern.nterm.number" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelpattern.nterm.op">
<span class="sig-name descname"><span class="pre">op</span></span><a class="headerlink" href="#modelpattern.nterm.op" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="modelpattern.nterm.var">
<span class="sig-name descname"><span class="pre">var</span></span><a class="headerlink" href="#modelpattern.nterm.var" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.find_frml">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">find_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#find_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.find_frml" title="Permalink to this definition"></a></dt>
<dd><p>Takes at modeltext and returns a list with where each element is
a string starting  with FRML and ending with $
It do not check if it is a valid FRML statement</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.split_frml">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">split_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frml</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#split_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.split_frml" title="Permalink to this definition"></a></dt>
<dd><p>Splits a string with a frml into a tuple with 4 parts:</p>
<ol class="arabic simple" start="0">
<li><p>The unsplit frml statement</p></li>
<li><p>FRML</p></li>
<li><p>&lt;Frml name&gt;</p></li>
<li><p>&lt;the frml expression&gt;</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.find_statements">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">find_statements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#find_statements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.find_statements" title="Permalink to this definition"></a></dt>
<dd><p>splits a modeltest into comments and statements</p>
<ul class="simple">
<li><p>a <em>comment</em> starts with ! and ends at lineend</p></li>
<li><p>a <em>statement</em> starts with a name and ends with a $ all characters between are considerd part of the statement</p></li>
</ul>
<p>The statement is not chekked for meaningfulness
returns a list of tuppels (comment,command,&lt;rest of statement&gt;)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.model_parse">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">model_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#model_parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.model_parse" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Takes a model returns a list of tupels. Each tupel contains:</dt><dd><dl class="field-list simple">
<dt class="field-odd">the compleete formular</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">FRML</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">formular name</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">the expression</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">list of terms from the expression</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
</dl>
<p>The purpose of this function is to make model analysis faster. this is 20 times faster than looping over espressions in a model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.list_extract">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">list_extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#list_extract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.list_extract" title="Permalink to this definition"></a></dt>
<dd><p>creates lists used in a model</p>
<p>returns a dictonary with the lists
if a list is defined several times, the first definition is used</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.check_syntax_model">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">check_syntax_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#check_syntax_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.check_syntax_model" title="Permalink to this definition"></a></dt>
<dd><p>cheks if equations have syntax errors by calling the python compile.parse</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.udtryk_parse">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">udtryk_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">udtryk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#udtryk_parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.udtryk_parse" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of terms from an expression ie: lhs=rhs $
or just an expression like x+b</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelpattern.kw_frml_name">
<span class="sig-prename descclassname"><span class="pre">modelpattern.</span></span><span class="sig-name descname"><span class="pre">kw_frml_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frml_name0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelpattern.html#kw_frml_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelpattern.kw_frml_name" title="Permalink to this definition"></a></dt>
<dd><p>find keywords and associated value from string ‘&lt;kw=xxx,res=kdkdk&gt;’</p>
</dd></dl>

</section>
<section id="module-modelmanipulation">
<span id="modelmanipulation"></span><h1>Modelmanipulation<a class="headerlink" href="#module-modelmanipulation" title="Permalink to this headline"></a></h1>
<p>Created on Mon Sep 02 19:41:11 2013</p>
<p>This module is a textprocessing module which is used to transforms a <em>template model</em> for a generic bank into into a unrolled and
expande model which covers all banks - under  control of a list feature.</p>
<p>The resulting model can be solved after beeing proccesed in the <em>modelclass</em> module.</p>
<p>In addition to creating a model for forecasting, the module can also create a model which calculates residulas and and variables
in historic periods.  This model can also be solved by the <em>modelclass</em> module.</p>
<p>&#64;author: Ib</p>
<dl class="py class">
<dt class="sig sig-object py" id="modelmanipulation.safesub">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">safesub</span></span><a class="reference internal" href="_modules/modelmanipulation.html#safesub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.safesub" title="Permalink to this definition"></a></dt>
<dd><p>A subclass of dict.
if a <em>safesub</em> is indexed by a nonexisting keyword it just return the keyword
this alows missing keywords when substitution text inspired by Python cookbook</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.sub">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">sub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">katalog</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#sub"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.sub" title="Permalink to this definition"></a></dt>
<dd><p>Substitutes keywords from dictionary by returning
text.format_map(safesub(katalog))
Allows missing keywords by using safesub subclass</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.oldsub_frml">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">oldsub_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibdic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#oldsub_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.oldsub_frml" title="Permalink to this definition"></a></dt>
<dd><p>to repeat substitution from list</p>
<ul class="simple">
<li><p><em>plus</em> is a seperator, used for creating sums</p></li>
<li><p><em>var</em> and <em>lig</em> Determins for which items the substitution should take place
by var=abe, lig=’ko’ substitution is only performed for entries where var==’ko’</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.sub_frml">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">sub_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibdic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#sub_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.sub_frml" title="Permalink to this definition"></a></dt>
<dd><p>to repeat substitution from list</p>
<ul class="simple">
<li><p><em>plus</em> is a seperator, used for creating sums</p></li>
<li><p><em>xvar</em> and <em>lig</em> Determins for which items the substitution should take place
by var=abe, lig=’ko’ substitution is only performed for entries where var==’ko’</p></li>
<li><p><em>xvar</em> is the variable to chek against selected in list</p></li>
<li><p><em>select list</em> is a list of elements in the xvar list to be included</p></li>
<li><p><em>matc</em> is the entry in <em>select list</em> from which to select from xvar</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.find_res">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">find_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#find_res"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.find_res" title="Permalink to this definition"></a></dt>
<dd><p>Finds the expression which calculates the residual in a formel. FRML &lt;res=a,endo=b&gt; x=a*b+c $</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.find_res_dynare">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">find_res_dynare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#find_res_dynare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.find_res_dynare" title="Permalink to this definition"></a></dt>
<dd><p>equations to calculat _res formulas
FRML &lt;&gt; x=a*b+c +x_RES  $ -&gt; FRML &lt;&gt; x_res =x-a*b+c  $</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.find_res_dynare_new">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">find_res_dynare_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#find_res_dynare_new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.find_res_dynare_new" title="Permalink to this definition"></a></dt>
<dd><p>equations to calculat _res formulas
FRML &lt;&gt; x=a*b+c +x_RES  $ -&gt; FRML &lt;&gt; x_res =x-a*b+c  $
not finished to speed time up</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.find_hist_model">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">find_hist_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#find_hist_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.find_hist_model" title="Permalink to this definition"></a></dt>
<dd><p>takes a unrolled model and create a model which can be run for historic periode</p>
<p>and the identities are also calculeted</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.exounroll">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">exounroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#exounroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.exounroll" title="Permalink to this definition"></a></dt>
<dd><p>takes a model and makes a new model by enhancing frml’s with &lt;exo=,j=,jr=&gt;
in their frml name.</p>
<dl class="field-list simple">
<dt class="field-odd">Exo</dt>
<dd class="field-odd"><p>the value can be fixed in to a value valuename_x by setting valuename_d=1</p>
</dd>
<dt class="field-even">Jled</dt>
<dd class="field-even"><p>a additiv adjustment element is added to the frml</p>
</dd>
<dt class="field-odd">Jrled</dt>
<dd class="field-odd"><p>a multiplicativ adjustment element is added to the frml</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.tofrml">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">tofrml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#tofrml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.tofrml" title="Permalink to this definition"></a></dt>
<dd><p>a function, wich adds FRML to all expressions seperated by &lt;sep&gt;
if no start is specified the max lag will be used</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.dounloop">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">dounloop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#dounloop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.dounloop" title="Permalink to this definition"></a></dt>
<dd><p>Expands (unrolls  do loops in a model template
goes trough a model template until there is no more nested do loops</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.find_arg">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">find_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streng</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#find_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.find_arg" title="Permalink to this definition"></a></dt>
<dd><p>chops a string in 3 parts</p>
<ol class="arabic simple">
<li><p>before ‘funk(’</p></li>
<li><p>in the matching parantesis</p></li>
<li><p>after the last matching parenthesis</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.sumunroll_old">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">sumunroll_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#sumunroll_old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.sumunroll_old" title="Permalink to this definition"></a></dt>
<dd><p>expands all sum(list,’expression’) in a model
returns a new model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.lagarray_unroll">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">lagarray_unroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#lagarray_unroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.lagarray_unroll" title="Permalink to this definition"></a></dt>
<dd><p>expands all sum(list,’expression’) in a model
returns a new model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.sumunroll">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">sumunroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#sumunroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.sumunroll" title="Permalink to this definition"></a></dt>
<dd><p>expands all sum(list,’expression’) in a model
if sum(list xvar=lig,’expression’) only list elements where the condition is
satisfied wil be summed</p>
<p>returns a new model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.argunroll">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">argunroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#argunroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.argunroll" title="Permalink to this definition"></a></dt>
<dd><p>expands all ARGEXPAND(list,’expression’) in a model
returns a new model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.creatematrix">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">creatematrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#creatematrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.creatematrix" title="Permalink to this definition"></a></dt>
<dd><p>expands all ARGEXPAND(list,’expression’) in a model
returns a new model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.createarray">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">createarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#createarray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.createarray" title="Permalink to this definition"></a></dt>
<dd><p>expands all to_array(list) in a model
returns a new model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.kaedeunroll">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">kaedeunroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#kaedeunroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.kaedeunroll" title="Permalink to this definition"></a></dt>
<dd><p>unrolls a chain (kaede) expression - used in the SMEC moedel</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.check_syntax_frml">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">check_syntax_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frml</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#check_syntax_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.check_syntax_frml" title="Permalink to this definition"></a></dt>
<dd><p>check syntax of frml</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.normalize_a_frml">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">normalize_a_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frml</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#normalize_a_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.normalize_a_frml" title="Permalink to this definition"></a></dt>
<dd><p>Normalize and show a frml</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.nomalize_a_model">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">nomalize_a_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equations</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#nomalize_a_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.nomalize_a_model" title="Permalink to this definition"></a></dt>
<dd><p>a symbolic normalization is performed if there is a syntaxerror</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.normalize">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.normalize" title="Permalink to this definition"></a></dt>
<dd><p>Normalize an equation with log or several variables at the left hand side, the first variable is considerd the endogeneeus</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.explode">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">explode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#explode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.explode" title="Permalink to this definition"></a></dt>
<dd><p>prepares a model from a model template.</p>
<p>Returns a expanded model which is ready to solve</p>
<p>Eksempel: model = udrul_model(MinModel.txt)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.modelprint">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">modelprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">A</span> <span class="pre">model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">udfil</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#modelprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.modelprint" title="Permalink to this definition"></a></dt>
<dd><p>prettyprinter for a a model.
:udfil: if present is output file
:short: if present condences the model
Can handle both model templates and models</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.lagone">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">lagone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">laglead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#lagone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.lagone" title="Permalink to this definition"></a></dt>
<dd><p>All variables in a string i
s lagged one more time</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.lag_n_tup">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">lag_n_tup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">udtryk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#lag_n_tup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.lag_n_tup" title="Permalink to this definition"></a></dt>
<dd><p>return a tuppel og lagged expressions from lag = 0 to lag = n)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.pastestring">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">pastestring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlylags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#pastestring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.pastestring" title="Permalink to this definition"></a></dt>
<dd><p>All variable names in a  in a string <strong>ind</strong> is pasted with the string <strong>post</strong></p>
<p>This function can be used to awoid variable name conflict with the internal variable names in sympy.</p>
<p>an advanced function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.stripstring">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">stripstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#stripstring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.stripstring" title="Permalink to this definition"></a></dt>
<dd><p>All variable names in a  in a string is <strong>ind</strong> is stripped of the string <strong>post</strong>.</p>
<p>This function reverses the pastestring process</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.findindex">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">findindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind00</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#findindex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.findindex" title="Permalink to this definition"></a></dt>
<dd><p>find the index variables meaning variables on the left hand side of = braced by {}</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.doablelist">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">doablelist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#doablelist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.doablelist" title="Permalink to this definition"></a></dt>
<dd><p>create a list of tupels from expressions seperated by sep,
each element in the list is a tupel (index, number og expression, the expression)</p>
<p>we want make group the expressions acording to index
index is elements on the left of = braced by {}</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.doablekeep">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">doablekeep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formulars</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#doablekeep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.doablekeep" title="Permalink to this definition"></a></dt>
<dd><p>takes index in the lhs and creates a do loop around the lines with same indexes
on the right side you can use %0_, %1_ an so on to indicate the index, just to awoid typing to much</p>
<p>Also %i_ will be changed to all the indexes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.doable">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">doable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formulars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#doable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.doable" title="Permalink to this definition"></a></dt>
<dd><p>takes index in the lhs and creates a do loop around the line
on the right side you can use %0_, %1_ an so on to indicate the index, just to awoid typing to much</p>
<p>Also %i_ will be changed to all the indexes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.findindex_gams">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">findindex_gams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind00</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#findindex_gams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.findindex_gams" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><ul class="simple">
<li><p>an equation looks like this</p></li>
<li><p>&lt;frmlname&gt; [index] lhs = rhs</p></li>
</ul>
</div></blockquote>
<p>this function find frmlname and index variables on the left hand side. meaning variables braced by {}</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.un_normalize_expression">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">un_normalize_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frml</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#un_normalize_expression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.un_normalize_expression" title="Permalink to this definition"></a></dt>
<dd><p>This function makes sure that all formulas are unnormalized.
if the formula is already decorated with &lt;endo=name&gt; this is kept
else the lhs_varriable is used in &lt;endo=&gt;</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.un_normalize_model">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">un_normalize_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#un_normalize_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.un_normalize_model" title="Permalink to this definition"></a></dt>
<dd><p>un normalize a model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.un_normalize_simpel">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">un_normalize_simpel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_equations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#un_normalize_simpel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.un_normalize_simpel" title="Permalink to this definition"></a></dt>
<dd><p>un-normalize expressions delimeted by linebreaks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelmanipulation.eksempel">
<span class="sig-prename descclassname"><span class="pre">modelmanipulation.</span></span><span class="sig-name descname"><span class="pre">eksempel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelmanipulation.html#eksempel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelmanipulation.eksempel" title="Permalink to this definition"></a></dt>
<dd><p>takes a template model as input, creates a model and a histmodel and prints the models</p>
</dd></dl>

</section>
<section id="module-modelnewton">
<span id="modelnewton"></span><h1>Modelnewton<a class="headerlink" href="#module-modelnewton" title="Permalink to this headline"></a></h1>
<p>Created on Fri Jun 19 19:49:50 2020</p>
<p>&#64;author: IBH</p>
<p>Module which handles model differentiation, construction of jacobi matrizex,
and creates dense and sparse solving functions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="modelnewton.diff_value_base">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelnewton.</span></span><span class="sig-name descname"><span class="pre">diff_value_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_endo</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_exo_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#diff_value_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.diff_value_base" title="Permalink to this definition"></a></dt>
<dd><p>class define columns in database with values from differentiation</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelnewton.diff_value_col">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelnewton.</span></span><span class="sig-name descname"><span class="pre">diff_value_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_endo</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_exo_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#diff_value_col"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.diff_value_col" title="Permalink to this definition"></a></dt>
<dd><p>The hash able class which can be used as pandas columns</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelnewton.diff_value">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelnewton.</span></span><span class="sig-name descname"><span class="pre">diff_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_endo</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvar_exo_plac</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">any</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#diff_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.diff_value" title="Permalink to this definition"></a></dt>
<dd><p>class to contain values from differentiation</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelnewton.newton_diff">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelnewton.</span></span><span class="sig-name descname"><span class="pre">newton_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endovar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyendocur</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forcenum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ljit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nchunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endoandexo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff" title="Permalink to this definition"></a></dt>
<dd><p>Class to handle newron solving
this is for un-nomalized or normalized models ie models of the forrm</p>
<p>0 = G(y,x)
y = F(y,x)</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.modeldiff">
<span class="sig-name descname"><span class="pre">modeldiff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.modeldiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.modeldiff" title="Permalink to this definition"></a></dt>
<dd><p>Differentiate relations for self.enovar with respect to endogeneous variable
The result is placed in a dictory in the model instanse: model.diffendocur</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.show_diff">
<span class="sig-name descname"><span class="pre">show_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.show_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.show_diff" title="Permalink to this definition"></a></dt>
<dd><p>Displays espressions for differential koifficients for a variable
if var ends with * all matchning variables are displayes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.show_stacked_diff">
<span class="sig-name descname"><span class="pre">show_stacked_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lhs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.show_stacked_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.show_stacked_diff" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>list</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is None. Time for which to retrieve stacked jacobi</p></li>
<li><p><strong>lhs</strong> (<em>string</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is ‘’. Left hand side variables</p></li>
<li><p><strong>rhs</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is ‘’. Right hand side variabnles</p></li>
<li><p><strong>dec</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is 2.</p></li>
<li><p><strong>show</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – DESCRIPTION. The default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>selected rows and columns of stacked jacobi as dataframe .</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_diffmodel">
<span class="sig-name descname"><span class="pre">get_diffmodel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_diffmodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_diffmodel" title="Permalink to this definition"></a></dt>
<dd><p>Returns a model which calculates the partial derivatives of a model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_diff_melted">
<span class="sig-name descname"><span class="pre">get_diff_melted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">periode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_diff_melted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_diff_melted" title="Permalink to this definition"></a></dt>
<dd><p>returns a tall matrix with all values to construct jacobimatrix(es)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_diff_mat_tot">
<span class="sig-name descname"><span class="pre">get_diff_mat_tot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_diff_mat_tot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_diff_mat_tot" title="Permalink to this definition"></a></dt>
<dd><p>Fetch a stacked jacobimatrix for the whole model.current_per</p>
<p>Returns a sparse matrix.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_diff_mat_1per">
<span class="sig-name descname"><span class="pre">get_diff_mat_1per</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">periode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_diff_mat_1per"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_diff_mat_1per" title="Permalink to this definition"></a></dt>
<dd><p>fetch a dict of one periode sparse jacobimatrices</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_diff_melted_var">
<span class="sig-name descname"><span class="pre">get_diff_melted_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">periode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_diff_melted_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_diff_melted_var" title="Permalink to this definition"></a></dt>
<dd><p>makes dict with all  derivative matrices for all lags</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_diff_values_all">
<span class="sig-name descname"><span class="pre">get_diff_values_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">periode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_diff_values_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_diff_values_all" title="Permalink to this definition"></a></dt>
<dd><p>stuff the values of derivatives into nested dic</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelnewton.newton_diff.get_feedback">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_feedback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eig_dic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnewton.html#newton_diff.get_feedback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnewton.newton_diff.get_feedback" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict of max abs eigenvector and the sign</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-modelvis">
<span id="modelvis"></span><h1>Modelvis<a class="headerlink" href="#module-modelvis" title="Permalink to this headline"></a></h1>
<p>Created on Fri May 12 11:07:02 2017</p>
<p>&#64;author: hanseni</p>
<p>This module creates functions and classes for visualizing results.</p>
<dl class="py function">
<dt class="sig sig-object py" id="modelvis.meltdim">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">meltdim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['dima',</span> <span class="pre">'dimb']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Latest'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#meltdim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.meltdim" title="Permalink to this definition"></a></dt>
<dd><p>Melts a wide dataframe the variable names are split to dimensions acording
to the list of texts in dims. in variablenames
the tall dataframe have a variable name for each dimensions
also values and source are introduced ac column names in the dataframe</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelvis.vis">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">vis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis" title="Permalink to this definition"></a></dt>
<dd><p>Visualization class. used as a method on a model instance.</p>
<p>The purpose is to select variables acording to a pattern, potential with wildcards</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.heat">
<span class="sig-name descname"><span class="pre">heat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.heat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.heat" title="Permalink to this definition"></a></dt>
<dd><p>Displays a heatmap of the resulting dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.plot" title="Permalink to this definition"></a></dt>
<dd><p>Displays a plot for each of the columns in the resulting dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.plot_alt">
<span class="sig-name descname"><span class="pre">plot_alt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Title'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.plot_alt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.plot_alt" title="Permalink to this definition"></a></dt>
<dd><p>Displays a plot for each of the columns in the resulting dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.box">
<span class="sig-name descname"><span class="pre">box</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.box" title="Permalink to this definition"></a></dt>
<dd><p>Displays a boxplot comparing basedf and lastdf</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.violin">
<span class="sig-name descname"><span class="pre">violin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.violin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.violin" title="Permalink to this definition"></a></dt>
<dd><p>Displays a violinplot comparing basedf and lastdf</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.swarm">
<span class="sig-name descname"><span class="pre">swarm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.swarm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.swarm" title="Permalink to this definition"></a></dt>
<dd><p>Displays a swarmlot comparing basedf and lastdf</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.df">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">df</span></span><a class="headerlink" href="#modelvis.vis.df" title="Permalink to this definition"></a></dt>
<dd><p>Returns the result of this instance as a dataframe</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.base">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">base</span></span><a class="headerlink" href="#modelvis.vis.base" title="Permalink to this definition"></a></dt>
<dd><p>Returns basedf</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.pct">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pct</span></span><a class="headerlink" href="#modelvis.vis.pct" title="Permalink to this definition"></a></dt>
<dd><p>Returns the pct change</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.year_pct">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">year_pct</span></span><a class="headerlink" href="#modelvis.vis.year_pct" title="Permalink to this definition"></a></dt>
<dd><p>Returns the pct change over 4 periods (used for quarterly data)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.frml">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">frml</span></span><a class="headerlink" href="#modelvis.vis.frml" title="Permalink to this definition"></a></dt>
<dd><p>Returns formulas</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.des">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">des</span></span><a class="headerlink" href="#modelvis.vis.des" title="Permalink to this definition"></a></dt>
<dd><p>Returns variable descriptions</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.dif">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">dif</span></span><a class="headerlink" href="#modelvis.vis.dif" title="Permalink to this definition"></a></dt>
<dd><p>Returns the differens between the basedf and lastdf</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.difpctlevel">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">difpctlevel</span></span><a class="headerlink" href="#modelvis.vis.difpctlevel" title="Permalink to this definition"></a></dt>
<dd><p>Returns the differens between the basedf and lastdf</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.difpct">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">difpct</span></span><a class="headerlink" href="#modelvis.vis.difpct" title="Permalink to this definition"></a></dt>
<dd><p>Returns the differens between the pct changes in basedf and lastdf</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.print">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">print</span></span><a class="headerlink" href="#modelvis.vis.print" title="Permalink to this definition"></a></dt>
<dd><p>prints the current result</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.rename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.rename" title="Permalink to this definition"></a></dt>
<dd><p>rename columns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.vis.mul">
<span class="sig-name descname"><span class="pre">mul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis.mul"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis.mul" title="Permalink to this definition"></a></dt>
<dd><p>Multiply the curent result with other</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="modelvis.vis.mul100">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mul100</span></span><a class="headerlink" href="#modelvis.vis.mul100" title="Permalink to this definition"></a></dt>
<dd><p>Multiply the current result with 100</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelvis.compvis">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">compvis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#compvis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.compvis" title="Permalink to this definition"></a></dt>
<dd><p>Class to compare to runs in boxplots</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelvis.compvis.box">
<span class="sig-name descname"><span class="pre">box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#compvis.box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.compvis.box" title="Permalink to this definition"></a></dt>
<dd><p>Displays a boxplot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.compvis.swarm">
<span class="sig-name descname"><span class="pre">swarm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#compvis.swarm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.compvis.swarm" title="Permalink to this definition"></a></dt>
<dd><p>Displays a swarmplot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.compvis.violin">
<span class="sig-name descname"><span class="pre">violin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#compvis.violin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.compvis.violin" title="Permalink to this definition"></a></dt>
<dd><p>Displays a violinplot</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelvis.container">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lastdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basedf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#container"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.container" title="Permalink to this definition"></a></dt>
<dd><p>A container, used if to izualize dataframes without a model</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelvis.container.smpl">
<span class="sig-name descname"><span class="pre">smpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#container.smpl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.container.smpl" title="Permalink to this definition"></a></dt>
<dd><p>Defines the model.current_per which is used for calculation period/index
when no parameters are issues the current current period is returned</p>
<p>Either none or all parameters have to be provided</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.container.vlist">
<span class="sig-name descname"><span class="pre">vlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#container.vlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.container.vlist" title="Permalink to this definition"></a></dt>
<dd><p>returns a list of variable matching the pattern</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modelvis.varvis">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">varvis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#varvis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.varvis" title="Permalink to this definition"></a></dt>
<dd><p>Visualization class. used as a method on a model instance.</p>
<p>The purpose is to select variables acording to a pattern, potential with wildcards</p>
<dl class="py method">
<dt class="sig sig-object py" id="modelvis.varvis.tracedep">
<span class="sig-name descname"><span class="pre">tracedep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#varvis.tracedep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.varvis.tracedep" title="Permalink to this definition"></a></dt>
<dd><p>Trace dependensies of name down to level down</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="modelvis.varvis.tracepre">
<span class="sig-name descname"><span class="pre">tracepre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#varvis.tracepre"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.varvis.tracepre" title="Permalink to this definition"></a></dt>
<dd><p>Trace dependensies of name down to level down</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.vis_alt">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">vis_alt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grund</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mul</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Show</span> <span class="pre">variables'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#vis_alt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.vis_alt" title="Permalink to this definition"></a></dt>
<dd><p>Graph of one of more variables each variable is displayed for 3 banks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.plotshow">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">plotshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'line'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colrow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splitchar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'__'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#plotshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.plotshow" title="Permalink to this definition"></a></dt>
<dd><p>Plots a subplot for each column in a datafra.
ppos determins which split by __ to use
kind determins which kind of matplotlib chart to use</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.melt">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">melt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Latest'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#melt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.melt" title="Permalink to this definition"></a></dt>
<dd><p>melts a wide dataframe to a tall dataframe , appends a soruce column</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.heatshow">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">heatshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Reds'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mul</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(11.69,</span> <span class="pre">8.27)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#heatshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.heatshow" title="Permalink to this definition"></a></dt>
<dd><p>A heatmap of a dataframe</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.attshow">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">attshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showsum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(11.69,</span> <span class="pre">8.27)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tshow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#attshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.attshow" title="Permalink to this definition"></a></dt>
<dd><p>Shows heatmap of impacts of exogeneous variables
:df: Dataframe with impact
:treshold: Take exogeneous variables with max impact of treshold or larger
:numhigh: take the numhigh largest impacts
:t: transpose the heatmap
:annot: Annotate the heatmap
:head: take the head largest
.tail: take the tail smalest
:showsum: Add a column with the sum
:sort: Sort the data
.tshow: Show a longer title
:cbar:  if a colorbar shoud be displayes
:cmap: the colormap
:save: Save the chart (in png format)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.attshowone">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">attshowone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#attshowone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.attshowone" title="Permalink to this definition"></a></dt>
<dd><p>shows the contribution to row=name from each column
the coulumns can optional be selected as starting with pre</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelvis.water">
<span class="sig-prename descclassname"><span class="pre">modelvis.</span></span><span class="sig-name descname"><span class="pre">water</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serxinput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autosum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allsort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelvis.html#water"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelvis.water" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dataframe with information for a watrfall diagram</p>
<dl class="field-list simple">
<dt class="field-odd">Serx</dt>
<dd class="field-odd"><p>the input serie of values</p>
</dd>
<dt class="field-even">Sort</dt>
<dd class="field-even"><p>True if the bars except the first and last should be sorted (default = False)</p>
</dd>
<dt class="field-odd">Allsort</dt>
<dd class="field-odd"><p>True if all bars should be sorted (default = False)</p>
</dd>
<dt class="field-even">Autosum</dt>
<dd class="field-even"><p>True if a Total bar are added in the end</p>
</dd>
<dt class="field-odd">Ascending</dt>
<dd class="field-odd"><p>True if sortorder = ascending</p>
</dd>
</dl>
<p>Returns a dataframe with theese columns:</p>
<dl class="field-list simple">
<dt class="field-odd">Hbegin</dt>
<dd class="field-odd"><p>Height of the first bar</p>
</dd>
<dt class="field-even">Hend</dt>
<dd class="field-even"><p>Height of the last bar</p>
</dd>
<dt class="field-odd">Hpos</dt>
<dd class="field-odd"><p>Height of positive bars</p>
</dd>
<dt class="field-even">Hneg</dt>
<dd class="field-even"><p>Height of negative bars</p>
</dd>
<dt class="field-odd">Start</dt>
<dd class="field-odd"><p>Ofset at which each bar starts</p>
</dd>
<dt class="field-even">Height</dt>
<dd class="field-even"><p>Height of each bar (just for information)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-modeljupyter">
<span id="modeljupyter"></span><h1>modeljupyter<a class="headerlink" href="#module-modeljupyter" title="Permalink to this headline"></a></h1>
<p>Created on Sat Jun 22 21:26:13 2019</p>
<p>&#64;author: hanseni</p>
<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.vis_alt3">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">vis_alt3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Show</span> <span class="pre">variables'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Baseline'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Alternative'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#vis_alt3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.vis_alt3" title="Permalink to this definition"></a></dt>
<dd><p>display tabbed widget with results from different dataframes, usuallly 2 but more can be shown</p>
<p>dfs is a list of dataframes. They should be of same dimensionalities</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.vis_alt4">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">vis_alt4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Show</span> <span class="pre">variables'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#vis_alt4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.vis_alt4" title="Permalink to this definition"></a></dt>
<dd><p>display tabbed widget with results from different dataframes, usuallly 2 but more can be shown</p>
<p>dfs is a list of dataframes. They should be of same dimensionalities</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modeljupyter.jup_keepviz">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">jup_keepviz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Show</span> <span class="pre">variables'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#jup_keepviz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.jup_keepviz" title="Permalink to this definition"></a></dt>
<dd><p>Class to vizualize a number of runs, primary in Jupyter
:dfs: A dict with runs {name :{‘result’ : df}}
:title: A title
:trans: a translation of variable names to more redable names
:legend: if legends has to be shown</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="modeljupyter.jupviz">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">jupviz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Show</span> <span class="pre">variables'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#jupviz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.jupviz" title="Permalink to this definition"></a></dt>
<dd><p>Class to vizualize a number of experiments in an tabbed ipywidget in a jupyter notebook</p>
<dl class="py method">
<dt class="sig sig-object py" id="modeljupyter.jupviz.vis">
<span class="sig-name descname"><span class="pre">vis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#jupviz.vis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.jupviz.vis" title="Permalink to this definition"></a></dt>
<dd><p>display tabbed widget with results from different dataframes, usuallly 2 but more can be shown</p>
<p>dfs is a list of dataframes. They should be of same dimensionalities</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.get_alt">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">get_alt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyendo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#get_alt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.get_alt" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves variables matching pat from a model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.get_alt_dic">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">get_alt_dic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onlyendo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#get_alt_dic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.get_alt_dic" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves variables matching pat from a model</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.inputwidget">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">inputwidget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basedf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slidedef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radiodef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkdef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelopt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varpat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RFF</span> <span class="pre">XGDPN</span> <span class="pre">RFFMIN</span> <span class="pre">GFSRPN</span> <span class="pre">DMPTRSH</span> <span class="pre">XXIBDUMMY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base1name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alt1name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">go_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#inputwidget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.inputwidget" title="Permalink to this definition"></a></dt>
<dd><p>Creates an input widgets for updating variables</p>
<dl class="field-list simple">
<dt class="field-odd">Df</dt>
<dd class="field-odd"><p>Baseline dataframe</p>
</dd>
<dt class="field-even">Slidedef</dt>
<dd class="field-even"><p>dict with definition of variables to be updated by slider</p>
</dd>
<dt class="field-odd">Radiodef</dt>
<dd class="field-odd"><p>dict of lists. each at first level defines a collection of radiobuttoms
second level defines the text for each leved and the variable to set or reset to 0</p>
</dd>
<dt class="field-even">Varpat</dt>
<dd class="field-even"><p>the variables to show in the output widget</p>
</dd>
<dt class="field-odd">Showout</dt>
<dd class="field-odd"><p>1 if the output widget is to be called</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.get_att_gui">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">get_att_gui</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">totdif</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desdic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'level'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bar'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perselect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'per'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#get_att_gui"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.get_att_gui" title="Permalink to this definition"></a></dt>
<dd><p>Creates a jupyter ipywidget to display model level
attributions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.get_att_gui2">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">get_att_gui2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">totdif</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RP'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desdic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'level'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bar'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#get_att_gui2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.get_att_gui2" title="Permalink to this definition"></a></dt>
<dd><p>Creates a jupyter ipywidget to display model level
attributions for datily dates</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.vtol">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">vtol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#vtol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.vtol" title="Permalink to this definition"></a></dt>
<dd><p>replaces special characters in variable name to latex</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.an_expression_to_latex">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">an_expression_to_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#an_expression_to_latex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.an_expression_to_latex" title="Permalink to this definition"></a></dt>
<dd><p>Returns a latex string from a list of terms (defined in the modelpattern module)</p>
<p>funks is a list of localy defines functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.expressions_to_latex">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">expressions_to_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#expressions_to_latex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.expressions_to_latex" title="Permalink to this definition"></a></dt>
<dd><p>Returns a latex string from a list of a list of terms</p>
<dl class="field-list simple">
<dt class="field-odd">Funks</dt>
<dd class="field-odd"><p>a list of local functions in the model</p>
</dd>
<dt class="field-even">Allign</dt>
<dd class="field-even"><p>the first = is enclosed in &amp; for alligning several equations in latex</p>
</dd>
<dt class="field-odd">Disp</dt>
<dd class="field-odd"><p>the result is displayed</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modeljupyter.frml_as_latex">
<span class="sig-prename descclassname"><span class="pre">modeljupyter.</span></span><span class="sig-name descname"><span class="pre">frml_as_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frml_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modeljupyter.html#frml_as_latex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modeljupyter.frml_as_latex" title="Permalink to this definition"></a></dt>
<dd><p>Display formula</p>
<dl class="field-list simple">
<dt class="field-odd">Funks</dt>
<dd class="field-odd"><p>local functions</p>
</dd>
<dt class="field-even">Allign</dt>
<dd class="field-even"><p>allign =</p>
</dd>
<dt class="field-odd">Name</dt>
<dd class="field-odd"><p>also display the frml name</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-modelnormalize">
<span id="modelnormalize"></span><h1>modelnormalize<a class="headerlink" href="#module-modelnormalize" title="Permalink to this headline"></a></h1>
<p>Created on Sat Nov 28 13:32:47 2020</p>
<p>This Module is used transforming model specifications to modelflow business language.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>preprocessing expressions to resolve functions like</dt><dd><p>dlog, log, pct, movavg</p>
</dd>
</dl>
</li>
<li><p>replace function names</p></li>
<li><p>normalize formulas</p></li>
</ul>
</div></blockquote>
<p>&#64;author: bruger</p>
<dl class="py class">
<dt class="sig sig-object py" id="modelnormalize.Normalized_frml">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">Normalized_frml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endo_var</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocessed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calc_adjustment</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">un_normalized</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitted</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#Normalized_frml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.Normalized_frml" title="Permalink to this definition"></a></dt>
<dd><p>class defining result from normalization of expression</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.endovar">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">endovar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#endovar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.endovar" title="Permalink to this definition"></a></dt>
<dd><p>Finds the first variable in a expression</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.funk_in">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">funk_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#funk_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.funk_in" title="Permalink to this definition"></a></dt>
<dd><p>Find the first location of a function in a string</p>
<p>if found returns a match object where the group 2 is the interesting stuff used in funk_find_arg</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.funk_replace">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">funk_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funk1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funk2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#funk_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.funk_replace" title="Permalink to this definition"></a></dt>
<dd><p>replace funk1( with funk2(</p>
<p>takes care that funk1 embedded in variable name is not replaced</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.funk_replace_list">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">funk_replace_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">replacelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#funk_replace_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.funk_replace_list" title="Permalink to this definition"></a></dt>
<dd><p>Replaces a list of funk1( , funk2(</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.funk_find_arg">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">funk_find_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funk_match</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streng</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#funk_find_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.funk_find_arg" title="Permalink to this definition"></a></dt>
<dd><p>chops a string in 3 parts</p>
<ol class="arabic simple">
<li><p>before ‘funk(’</p></li>
<li><p>in the matching parantesis</p></li>
<li><p>after the last matching parenthesis</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.preprocess">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">preprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">udtryk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#preprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.preprocess" title="Permalink to this definition"></a></dt>
<dd><p>test processing expanding dlog,diff,movavg,pct,logit functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>udtryk</strong> (<em>str</em>) – model we want to do template expansion on</p></li>
<li><p><strong>funks</strong> (<em>list</em><em>, </em><em>optional</em>) – list of user defined functions . Defaults to [].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p>has to be changed to (= for when the transition to 3.8 is finished.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.normal">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind_o</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">the_endo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endo_lhs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exo_adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_fitted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.normal" title="Permalink to this definition"></a></dt>
<dd><p>normalize an expression g(y,x) = f(y,x) ==&gt; y = F(x,z)</p>
<p>Default find the expression for the first variable on the left hand side (lhs)</p>
<p>The variable - without lags-  should not be on rhs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ind_o</strong> (<em>str</em>) – input expression, no $ and no frml name just lhs=rhs</p></li>
<li><p><strong>the_endo</strong> (<em>str</em><em>, </em><em>optional</em>) – the endogeneous to isolate on the left hans side. if ‘’ the first variable in the lhs. It shoud be on the left hand side.</p></li>
<li><p><strong>add_adjust</strong> (<em>bool</em><em>, </em><em>optional</em>) – force introduction aof adjustment term, and an expression to calculate it</p></li>
<li><p><strong>do_preprocess</strong> (<em>bool</em><em>, </em><em>optional</em>) – DESCRIPTION. preprocess the expression</p></li>
<li><p><strong>endo_lhs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Accept to normalize for a rhs endogeneous variable</p></li>
<li><p><strong>exo_adjust</strong> (<em>bool</em><em>, </em><em>optional</em>) – also make this equation exogenizable</p></li>
<li><p><strong>fitted</strong> (<em>bool</em><em>,</em><em>optional</em>) – create a fitted equations, without exo and adjustment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Normalized_frml which will contain the different relevant expressions</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>An instance of the class</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="modelnormalize.elem_trans">
<span class="sig-prename descclassname"><span class="pre">modelnormalize.</span></span><span class="sig-name descname"><span class="pre">elem_trans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">udtryk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/modelnormalize.html#elem_trans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#modelnormalize.elem_trans" title="Permalink to this definition"></a></dt>
<dd><p>Handeles expression with &#64;elem</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Ib Hansen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>